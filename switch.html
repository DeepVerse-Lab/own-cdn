<!DOCTYPE html>
<html lang="en" class="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Glass Theme Toggle</title>

    <!-- ✅ Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- ✅ Tailwind Dark Mode Config -->
    <script>
        tailwind.config = {
            darkMode: 'class'
        }
    </script>
</head>

<body class="min-h-screen flex items-center justify-center
             bg-[#d1d3d6] dark:bg-[#2b2e34]
             transition-colors duration-500">

    <!-- ================= TOGGLE COMPONENT ================= -->
    <button id="themeToggle" class="relative w-[220px] h-[72px] rounded-full
           bg-[#d1d3d6] dark:bg-[#1f2328]
           shadow-[0_20px_40px_rgba(0,0,0,0.25)]
           flex items-center px-4 overflow-hidden
           transition-colors duration-500 select-none">

        <!-- Label -->
        <span id="themeLabel" class="relative z-10 ml-4 text-[24px] font-medium
             text-black/70 dark:text-white/70 transition-all">
            Light
        </span>

        <!-- Glass Knob -->
        <div id="knob" class="absolute left-2 top-1/2 -translate-y-1/2
             w-[80px] h-[80px] rounded-full
             backdrop-blur-xl bg-white/40 dark:bg-white/10
             ring-1 ring-white/40 dark:ring-white/20
             shadow-[0_0_30px_rgba(255,255,255,0.35)]
             transition-all duration-700 ease-[cubic-bezier(.2,.8,.2,1)]">

            <!-- Inner Blob -->
            <div id="blob" class="absolute inset-2 rounded-full
               bg-white dark:bg-[#111418]
               shadow-inner
               flex items-center justify-center
               transition-all duration-700 ease-[cubic-bezier(.2,.8,.2,1)]">

                <!-- Icon -->
                <svg id="icon" viewBox="0 0 24 24" class="w-7 h-7 fill-black dark:fill-white">
                    <!-- Sun -->
                    <path d="M12 4a1 1 0 0 1 1 1v1a1 1 0 1 1-2 0V5a1 1 0 0 1 1-1z" />
                </svg>
            </div>
        </div>

        <!-- Liquid Mask -->
        <div id="liquid" class="pointer-events-none absolute left-0 top-0 h-full w-0
             bg-[#d1d3d6] dark:bg-[#1f2328]
             transition-all duration-700 ease-[cubic-bezier(.2,.8,.2,1)]">
        </div>
    </button>

    <!-- ================= JS ================= -->
    <script>
        const html = document.documentElement;
        const btn = document.getElementById('themeToggle');
        const knob = document.getElementById('knob');
        const label = document.getElementById('themeLabel');
        const liquid = document.getElementById('liquid');
        const icon = document.getElementById('icon');

        let isDark = localStorage.getItem('theme') === 'dark';

        function applyTheme() {
            if (isDark) {
                html.classList.add('dark');

                knob.style.left = 'auto';
                knob.style.right = '8px';
                liquid.style.width = '50%';

                label.textContent = 'Dark';

                icon.innerHTML = `
          <path d="M21 12.8A9 9 0 0 1 11.2 3 7 7 0 1 0 21 12.8z"/>
        `;

                localStorage.setItem('theme', 'dark');
            } else {
                html.classList.remove('dark');

                knob.style.right = 'auto';
                knob.style.left = '8px';
                liquid.style.width = '0%';

                label.textContent = 'Light';

                icon.innerHTML = `
          <path d="M12 4a1 1 0 0 1 1 1v1a1 1 0 1 1-2 0V5a1 1 0 0 1 1-1z"/>
        `;

                localStorage.setItem('theme', 'light');
            }
        }

        applyTheme();

        btn.addEventListener('click', () => {
            isDark = !isDark;
            applyTheme();
        });
    </script>

</body>

</html>